import{S as l}from"./Sidebar-User-b57f27e8.js";import{N as i}from"./Navbar-112cf9ad.js";import{I as c,L as d,J as u,P as h,K as g,k as n,o as _,c as m,g as r,B as p,d as s,b as f,H as v}from"./index-734b0cc5.js";import{C as b}from"./ChatMe-a4cb3bdb.js";const k={id:"wrapper"},S={id:"content-wrapper",class:"d-flex flex-column"},x={id:"content"},w={class:"container-fluid mt-4"},y=s("div",{class:"d-sm-flex align-items-center justify-content-between mb-4"},[s("h1",{class:"h3 mb-0 text-gray-800 text-center"},"Dashboard")],-1);c.register(d,u,h,g);const C={data(){return{role:null,lokasi:"",note:"",user:""}},methods:{async fetchUser(){try{const t=await f.get("https://10.11.10.243/backend/public/api/auth/user",{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});this.user=t.data.data.length}catch(t){console.error(t);const e=JSON.stringify(t.message);sessionStorage.setItem("error",e)}}},created(){new Date().toUTCString(),console.log("Waktu Sekarang (UTC):",new Date);const t=sessionStorage.getItem("token");if(console.log("test token: ",t),t)try{const e=JSON.parse(atob(t.split(".")[1])),o=e.exp,a=new Date(o*1e3);console.log("Waktu Kedaluwarsa (UTC):",a),new Date>a?(console.log("Keluar"),sessionStorage.removeItem("token"),this.$router.push("/")):console.log("Aman"),this.level=e.level,this.user_id=e.id,console.log("ini level: ",this.level),this.level!=="0"&&this.$router.push("/unauthorized")}catch(e){console.error("Error decoding token:",e),this.$router.push("/")}else this.$router.push("/")}},V=Object.assign(C,{__name:"DashboardView",setup(t){const e=n(!1),o=n(""),a=()=>{e.value=!e.value,o.value=e.value?"toggle-sidebar":""};return(D,N)=>(_(),m("div",k,[r(l,{class:p(o.value)},null,8,["class"]),s("div",S,[s("div",x,[r(i,{onToggleSidebar:a}),s("div",w,[y,r(b)])]),r(v)])]))}});export{V as default};
