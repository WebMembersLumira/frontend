import{j as N,u as A,k as v,l as R,m as O,n as U,o as r,p as I,q as u,_ as P,r as T,c as p,d as a,g as _,e as g,v as $,s as j,w as q,t as z,x as f,y as F,i as b,h as S,b as H,S as G,z as J,A as W}from"./index-4fd86721.js";import{C as Y}from"./ChatMe-676e7c38.js";import"./index-431a291a.js";import"./_commonjs-dynamic-modules-302442b1.js";const Z=N({props:{value:{default:""},chars:{default:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"},count:{default:5},hideLines:{type:Boolean,default:!1},customTextColor:{default:""},textColors:{default:()=>[]},isDirty:{type:Boolean,default:!0},width:{default:function(o){return o.count*30}},height:{default:50},canvasClass:{default:""},icon:{default:"refresh"},captchaFont:{default:"bold 28px sans-serif"}},emits:["isValid","getCode","update:modelValue"],setup(o,{emit:t}){const e=o,c=A(),s=v();let n=v(""),i=e.width,h=e.height;R(()=>{C()});const C=()=>{s.value.width=i,s.value.height=h;let l=s.value.getContext("2d");for(let d=0;d<e.count;d++){let w=Math.floor(Math.random()*e.chars.length),y=Math.random()*30*Math.PI/180,V=e.chars[w];n.value+=V;let x=10+d*25,M=30+Math.random()*8;l.font=e.captchaFont,l.translate(x,M),e.customTextColor?l.fillStyle=e.customTextColor:e.textColors.length?l.fillStyle=e.textColors[Math.floor(Math.random()*e.textColors.length)]:l.fillStyle=k(),l.rotate(y),l.fillText(V,0,0),l.rotate(-y),l.translate(-x,-M)}e.hideLines||B(),L()},B=()=>{let l=s.value.getContext("2d");for(let d=0;d<e.count;d++)l.strokeStyle=k(),l.beginPath(),l.moveTo(Math.random()*i,Math.random()*h),l.lineTo(Math.random()*i,Math.random()*h),l.stroke()},L=()=>{t("getCode",n.value)};O(()=>{n.value&&n.value===e.value?t("isValid",!0):t("isValid",!1)}),U(n,l=>{t("update:modelValue",l)});const k=()=>{let l=Math.floor(Math.random()*256),d=Math.floor(Math.random()*256),w=Math.floor(Math.random()*256);return"rgb("+l+","+d+","+w+")"},D=()=>{s.value.getContext("2d").clearRect(0,0,i,h),n.value="",C()},E=()=>u("div",{class:"vue_client_recaptcha"},[u("div",{class:"vue_client_recaptcha_icon",onClick:()=>D()},[u(c.icon?c.icon:"svg",{class:"vue_client_recaptcha_icon_svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M2 12a9 9 0 0 0 9 9c2.39 0 4.68-.94 6.4-2.6l-1.5-1.5A6.706 6.706 0 0 1 11 19c-6.24 0-9.36-7.54-4.95-11.95C10.46 2.64 18 5.77 18 12h-3l4 4h.1l3.9-4h-3a9 9 0 0 0-18 0Z",fill:"#333333"})])]),u("canvas",{id:"captcha_canvas",class:`captcha_canvas ${e.canvasClass}`,ref:s},n.value)]);return(l,d)=>(r(),I(E))}});const K={components:{VueClientRecaptcha:Z},setup(){const o=v(""),t=j(),e=i=>{n.captchaCode=i},c=i=>{n.isValid=i,i&&s()},s=()=>{t.emit("emitCaptcha",!1)},n=v({captchaCode:null,isValid:!1});return{inputValue:o,data:n,getCaptchaCode:e,checkValidCaptcha:c,captchaM:s}}},Q={class:"sample-captcha"},X={class:"row"},tt={class:"col-sm-6"},et={class:"captcha-box"},at={class:"col-sm-6"},ot={class:"data-box"};function st(o,t,e,c,s,n){const i=T("VueClientRecaptcha");return r(),p("div",Q,[a("div",X,[a("div",tt,[a("section",et,[_(i,{value:c.inputValue,onGetCode:c.getCaptchaCode,onIsValid:c.checkValidCaptcha},null,8,["value","onGetCode","onIsValid"])])]),a("div",at,[a("section",ot,[g(a("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>c.inputValue=h),placeholder:"Masukkan captcha",class:"input",type:"text"},null,512),[[$,c.inputValue]])])])])])}const lt=P(K,[["render",st]]);const m=o=>(J("data-v-cc40bf3d"),o=o(),W(),o),ct={class:"container"},nt={class:"row justify-content-center"},it={class:"col-xl-10 col-lg-12 col-md-9"},dt={class:"card o-hidden border-0 shadow-lg my-5"},rt={class:"card-body p-0"},ht={class:"row"},ut=m(()=>a("div",{class:"col-lg-6 d-none d-lg-block bg-login-image"},null,-1)),pt={class:"col-lg-6"},mt={class:"p-5"},ft=m(()=>a("div",{class:"text-center"},[a("h1",{class:"h4 text-gray-900 mb-4"},"Selamat Datang!")],-1)),_t={class:"form-group"},gt={class:"form-group"},vt={class:"row"},wt={class:"col-10"},bt=["type"],Ct={class:"col-2"},kt={class:"form-group"},yt={class:"custom-control custom-checkbox small"},Vt=m(()=>a("label",{class:"custom-control-label",for:"customCheck"},"Ingat Saya",-1)),xt={key:0,class:"confirmHuman"},Mt=m(()=>a("img",{width:"48",height:"48",src:"https://img.icons8.com/fluency/48/checked.png",alt:"checked"},null,-1)),St=["disabled"],It=m(()=>a("hr",null,null,-1)),Pt={class:"text-center"},Tt={class:"text-center"},$t={data(){return{form:{email:null,password:null},uniqueValue:"",cheked:!1,captchaValidate:!0,showPassword:!1}},methods:{togglePasswordVisibility(){this.showPassword=!this.showPassword},captchaCode(o){this.captchaValidate=o},login(){const o=new FormData;o.append("email",this.form.email),o.append("password",this.form.password),H.post("https://backend-webmember.lumirainternational.com/api/auth/login",o).then(t=>{if(this.cheked===!0){const c=JSON.stringify(this.form);localStorage.setItem("login",c)}else localStorage.getItem("login")&&localStorage.removeItem("login");const e=t.data.access_token;localStorage.setItem("ssoAccess",e),sessionStorage.setItem("token",e),t.data.level=="1"?this.$router.push("/admin-dashboard"):t.data.level=="0"?this.$router.push("/user-dashboard"):this.$router.push("/unauthorized")}).catch(t=>{console.error(t),this.captchaValidate=!0,G.fire({icon:"error",title:"Oops...",text:"Login gagal. Periksa kembali email dan password Anda."})})}},mounted(){const o=document.querySelector("body");o.style.backgroundImage="url(/img/bg.webp)",o.style.backgroundRepeat="no-repeat",o.style.backgroundSize="cover"},created(){const o=localStorage.getItem("login");o&&(this.form=JSON.parse(o),this.cheked=!0)}},Bt=Object.assign($t,{__name:"LoginView",setup(o){return(t,e)=>{const c=T("router-link");return r(),p("div",ct,[_(Y),a("div",nt,[a("div",it,[a("div",dt,[a("div",rt,[a("div",ht,[ut,a("div",pt,[a("div",mt,[ft,a("form",{class:"user",onSubmit:e[5]||(e[5]=q((...s)=>t.login&&t.login(...s),["prevent"]))},[a("div",_t,[g(a("input",{type:"email",class:"form-control form-control-user",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Masukkan Email","onUpdate:modelValue":e[0]||(e[0]=s=>t.form.email=s)},null,512),[[$,t.form.email]])]),a("div",gt,[a("div",vt,[a("div",wt,[g(a("input",{type:t.showPassword?"text":"password",class:"form-control form-control-user",id:"exampleInputPassword",placeholder:"Masukkan Password","onUpdate:modelValue":e[1]||(e[1]=s=>t.form.password=s)},null,8,bt),[[z,t.form.password]])]),a("div",Ct,[t.showPassword?f("",!0):(r(),p("i",{key:0,class:"bi customIcon bi-eye-slash-fill",onClick:e[2]||(e[2]=(...s)=>t.togglePasswordVisibility&&t.togglePasswordVisibility(...s))})),t.showPassword?(r(),p("i",{key:1,class:"bi customIcon bi-eye-fill",onClick:e[3]||(e[3]=(...s)=>t.togglePasswordVisibility&&t.togglePasswordVisibility(...s))})):f("",!0)])])]),a("div",kt,[a("div",yt,[g(a("input",{type:"checkbox",class:"custom-control-input",id:"customCheck","onUpdate:modelValue":e[4]||(e[4]=s=>t.cheked=s)},null,512),[[F,t.cheked]]),Vt])]),t.captchaValidate===!1?(r(),p("div",xt,[Mt,b(" You are human ")])):f("",!0),t.captchaValidate===!0?(r(),I(lt,{key:1,onEmitCaptcha:t.captchaCode},null,8,["onEmitCaptcha"])):f("",!0),a("button",{type:"submit",class:"btn btn-primary btn-user btn-block mt-3",disabled:t.captchaValidate}," Masuk ",8,St)],32),It,a("div",Pt,[_(c,{class:"small",to:"/lupa-password"},{default:S(()=>[b("Lupa Password?")]),_:1})]),a("div",Tt,[_(c,{class:"small",to:"/register"},{default:S(()=>[b("Buat Akun!")]),_:1})])])])])])])])])])}}}),At=P(Bt,[["__scopeId","data-v-cc40bf3d"]]);export{At as default};
