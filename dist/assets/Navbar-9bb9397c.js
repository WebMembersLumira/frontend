import{_ as u,S as n,b as m,r as h,o as i,c as l,d as o,w as f,x as d,G as b,g as k,h as p,i as c,B as _}from"./index-4fd86721.js";const w={props:{sidebarToggled:Boolean},data(){return{name:"",gambar:"",user_id:"",darkMode:!1}},methods:{changeTheme(){this.darkMode=!this.darkMode;const t=JSON.stringify(this.darkMode);localStorage.setItem("darkMode",t)},sidebarToggled(){this.$emit("toggle-sidebar",!this.sidebarToggled)},konfirmasi(){n.fire({title:"Apakah Anda yakin ingin logout?",text:"Anda akan keluar dari akun ini.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#061387",confirmButtonText:"Logout",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&this.logout()})},logout(){const t=sessionStorage.getItem("token");if(!t){n.fire({title:"Logout gagal",text:"Token tidak ditemukan.",icon:"error",confirmButtonColor:"#d33"});return}m.post("https://10.11.10.243/backend/public/api/auth/logout",null,{headers:{Authorization:"Bearer "+t}}).then(e=>{n.fire({title:"Logout berhasil!",icon:"success",timer:1500,timerProgressBar:!0,showConfirmButton:!1}),sessionStorage.removeItem("token"),this.$router.push("/")}).catch(e=>{console.error(e),n.fire({title:"Logout gagal",text:"Terjadi kesalahan saat melakukan logout.",icon:"error",confirmButtonColor:"#d33"})})}},created(){const t=sessionStorage.getItem("token");if(t)try{const e=JSON.parse(atob(t.split(".")[1]));this.name=e.name,this.user_id=e.id,this.gambar=e.gambar}catch(e){console.error("Error decoding token:",e),this.$router.push("/")}else this.$router.push("/")}},v=o("i",{class:"fa fa-bars"},null,-1),x=[v],T={class:"navbar-nav ml-auto"},B={class:"nav-item mt-3"},C={class:"btn btn-dark"},y=o("div",{class:"topbar-divider d-none d-sm-block"},null,-1),M={class:"nav-item dropdown no-arrow"},N={class:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},S={class:"mr-2 d-none d-lg-inline text-white small"},L=["src"],A={class:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},I=o("i",{class:"fas fa-solid fa-user fa-sm fa-fw mr-2 text-gray-400"},null,-1),V=o("i",{class:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"},null,-1);function D(t,e,P,z,r,a){const g=h("router-link");return i(),l("nav",{class:_(["customNav navbar navbar-expand navbar-light topbar static-top shadow",r.darkMode?"bg-black":"bgCustom"])},[o("form",{class:"form-inline",onSubmit:e[1]||(e[1]=f(()=>{},["prevent"]))},[o("button",{id:"sidebarToggleTop",class:"btn btn-link d-md-none rounded-circle mr-3 text-light",onClick:e[0]||(e[0]=(...s)=>a.sidebarToggled&&a.sidebarToggled(...s))},x)],32),o("ul",T,[o("li",B,[o("button",C,[r.darkMode?d("",!0):(i(),l("i",{key:0,class:"bi fs-5 bi-sun-fill text-warning",onClick:e[2]||(e[2]=(...s)=>a.changeTheme&&a.changeTheme(...s))})),r.darkMode?(i(),l("i",{key:1,class:"bi fs-5 bi-moon-stars-fill",onClick:e[3]||(e[3]=(...s)=>a.changeTheme&&a.changeTheme(...s))})):d("",!0)])]),y,o("li",M,[o("a",N,[o("span",S,b(this.name),1),o("img",{src:"https://10.11.10.243/backend/public/storage/profile/"+r.gambar,alt:" gambarprofile",class:"img-profile rounded-circle"},null,8,L)]),o("div",A,[k(g,{class:"dropdown-item",to:"/user-profile","data-toggle":"modal","data-target":"#logoutModal"},{default:p(()=>[I,c(" Profil ")]),_:1}),o("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal",onClick:e[4]||(e[4]=s=>a.konfirmasi())},[V,c(" Logout ")])])])])],2)}const J=u(w,[["render",D]]);export{J as N};
