import{_ as c,r as h,o as u,c as g,d as e,g as d,h as l,B as b,a as p,z as v,A as f,S as i,b as k,w as x,G as w,i as y}from"./index-e8246874.js";const S={data(){return{sidebarToggled:!1}},methods:{toggleSidebar(){this.sidebarToggled=!this.sidebarToggled}},created(){}},s=a=>(v("data-v-a0e5b781"),a=a(),f(),a),$=p('<a class="sidebar-brand d-flex align-items-center justify-content-center" href="#" data-v-a0e5b781><div class="sidebar-brand-icon mt-2" data-v-a0e5b781></div><div class="sidebar-brand-text ms-3" data-v-a0e5b781><span class="text-primary" data-v-a0e5b781>Alicorn<span class="text-warning" data-v-a0e5b781>bot</span></span></div></a><div class="sidebar-heading mt-5 text-primary" data-v-a0e5b781>Menu</div>',2),T={class:"nav-item"},B=s(()=>e("i",{class:"bi bi-speedometer2 text-primary"},null,-1)),C=s(()=>e("span",null,"Dashboard",-1)),M={class:"nav-item"},N=s(()=>e("i",{class:"bi bi-journal-text text-primary"},null,-1)),I=s(()=>e("span",null,"My Invoice",-1)),A={class:"nav-item"},L=s(()=>e("i",{class:"bi bi-journal-text text-primary"},null,-1)),j=s(()=>e("span",null,"Service",-1));function D(a,t,_,m,r,n){const o=h("router-link");return u(),g("ul",{class:b(["navbar-nav bg-gradient-light sidebar sidebar-dark accordion",{toggled:r.sidebarToggled}]),id:"accordionSidebar"},[$,e("li",T,[d(o,{class:"nav-link text-primary",to:"/user-dashboard","active-class":"font-weight-bold active-link"},{default:l(()=>[B,C]),_:1})]),e("li",M,[d(o,{class:"nav-link text-primary",to:"/user-invoice","active-class":"font-weight-bold text-primary active-link"},{default:l(()=>[N,I]),_:1})]),e("li",A,[d(o,{class:"nav-link text-primary",to:"/user-layanan","active-class":"font-weight-bold text-primary active-link"},{default:l(()=>[L,j]),_:1})])],2)}const Q=c(S,[["render",D],["__scopeId","data-v-a0e5b781"]]);const V={props:{sidebarToggled:Boolean},data(){return{name:"",gambar:"",user_id:"",darkMode:!1}},methods:{changeTheme(){this.darkMode=!this.darkMode;const a=JSON.stringify(this.darkMode);localStorage.setItem("darkMode",a)},sidebarToggled(){this.$emit("toggle-sidebar",!this.sidebarToggled)},konfirmasi(){i.fire({title:"Apakah Anda yakin ingin logout?",text:"Anda akan keluar dari akun ini.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#061387",confirmButtonText:"Logout",cancelButtonText:"Batal"}).then(a=>{a.isConfirmed&&this.logout()})},logout(){const a=sessionStorage.getItem("token");if(!a){i.fire({title:"Logout gagal",text:"Token tidak ditemukan.",icon:"error",confirmButtonColor:"#d33"});return}k.post("https://10.11.10.243/backend/public/api/auth/logout",null,{headers:{Authorization:"Bearer "+a}}).then(t=>{i.fire({title:"Logout berhasil!",icon:"success",timer:1500,timerProgressBar:!0,showConfirmButton:!1}),sessionStorage.removeItem("token"),this.$router.push("/")}).catch(t=>{console.error(t),i.fire({title:"Logout gagal",text:"Terjadi kesalahan saat melakukan logout.",icon:"error",confirmButtonColor:"#d33"})})}},created(){const a=sessionStorage.getItem("token");if(a)try{const t=JSON.parse(atob(a.split(".")[1]));this.name=t.name,this.user_id=t.id,this.gambar=t.gambar}catch(t){console.error("Error decoding token:",t),this.$router.push("/")}else this.$router.push("/")}},z=e("i",{class:"fa fa-bars"},null,-1),E=[z],J={class:"navbar-nav ml-auto"},O=e("div",{class:"topbar-divider d-none d-sm-block"},null,-1),P={class:"nav-item dropdown no-arrow"},G={class:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},U={class:"mr-2 d-none d-lg-inline text-white small"},q={class:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},F=e("i",{class:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"},null,-1);function H(a,t,_,m,r,n){return u(),g("nav",{class:b(["customNav navbar navbar-expand navbar-light topbar static-top shadow",r.darkMode?"bg-black":"bgCustom"])},[e("form",{class:"form-inline",onSubmit:t[1]||(t[1]=x(()=>{},["prevent"]))},[e("button",{id:"sidebarToggleTop",class:"btn btn-link d-md-none rounded-circle mr-3 text-light",onClick:t[0]||(t[0]=(...o)=>n.sidebarToggled&&n.sidebarToggled(...o))},E)],32),e("ul",J,[O,e("li",P,[e("a",G,[e("span",U,w(this.name),1)]),e("div",q,[e("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal",onClick:t[2]||(t[2]=o=>n.konfirmasi())},[F,y(" Logout ")])])])])],2)}const R=c(V,[["render",H]]);export{R as N,Q as S};
